---
layout: post
title: Character code
disqus: y
share: y
categories: [Cryptography]
---
今天在学习python过程中，提到了关于字符编码的问题。比如python可以使用比如ord()来编码，chr()来把编码换成字符。才发现我对编码不甚了解，玩了不少汉化游戏，却从来没想过怎么做的。

关于编码网上有很多，总结下我所了解的：
unicode：最大最全字符集，集合了全世界所有的字符，因为有3个字节来存
ASC：最早的编码，存存127英文体系字符啥的
utf8：为了节省unicode的空间浪费，可变长度的编码，英文用1字节就够，中文啥的用2-3字节

你用ASCII编码，我用GBK解码，肯定就乱码。所以，按我理解，汉化过程就是：
1.解包（简单的就zip包，很多公司为了保密资源，用自己的加密包）
2.找到对应的文本之类的资源文件
3.找出正确的编码格式，正确读取文本（也有可能采用特殊编码包的，或者有额外格式之类）
4.如果是支持中文的编码，比如unicode，utf8编码的，直接将资源文件改成中文，理论上就汉化成功了
5.如果该编码不支持中文，而且没有设置编码的选项，那么需要修改程序读取编码的代码，需要脱壳，反汇编，字库，涉及到OD，Reflector 之类。根据程序不同，反汇编难度会大幅度浮动。
6.很多雷，比如游戏有显示限制等等，就更麻烦了。所以有采用外挂字幕的，只要读取就行，不用考虑游戏怎么显示。

PS：
如果使用BOM，表示在文件头申明该文件编码，比如
EF BB BF － 我是UTF-8
FF FE － 我是UTF-16LE
FE FF － 我是UTF-16BE
跨平台开发请使用UTF-8 without BOM
